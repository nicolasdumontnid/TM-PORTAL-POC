<div class="content-header" *ngIf="hasExams$ | async">
  <div class="header-left">
    <h1>{{pageTitle$ | async}}</h1>
    <button 
      class="header-btn"
      [class.expanded]="expandAllClass | async"
      (click)="toggleExpandAll()"
    >
      <span>{{expandAllText | async}}</span>
      <i class="ph ph-caret-down-bold"></i>
    </button>
    <div class="sort-container">
      <button class="header-btn" (click)="toggleSortDropdown()">
        <span>Sort by: {{currentSortLabel$ | async}}</span>
        <i class="ph ph-caret-down-bold"></i>
      </button>
      <div 
        class="sort-dropdown"
        [style.display]="(showSortDropdown | async) ? 'block' : 'none'"
      >
        <a href="javascript:void(0)" (click)="selectSort('date-desc', 'Date DESC')">Date DESC</a>
        <a href="javascript:void(0)" (click)="selectSort('date-asc', 'Date ASC')">Date ASC</a>
        <a href="javascript:void(0)" (click)="selectSort('patient-name-asc', 'Patient Name ASC')">Patient Name ASC</a>
        <a href="javascript:void(0)" (click)="selectSort('patient-name-desc', 'Patient Name DESC')">Patient Name DESC</a>
      </div>
    </div>
  </div>
  <div class="search-container" [class.focused]="isSearchFocused">
    <i class="ph ph-magnifying-glass"></i>
    <input 
      type="search" 
      placeholder="Search exams..."
      [(ngModel)]="searchQuery"
      (input)="onSearch()"
      (keyup.enter)="onSearch()"
      (focus)="onSearchFocus()"
      (blur)="onSearchBlur()"
    >
  </div>
</div>

<!-- Titre seul quand il n'y a pas d'examens -->
<div class="page-title-only" *ngIf="!(hasExams$ | async)">
  <h1>{{pageTitle$ | async}}</h1>
</div>